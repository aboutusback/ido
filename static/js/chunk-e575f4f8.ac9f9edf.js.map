{"version":3,"sources":["webpack:///./src/views/notice/index.vue?462d","webpack:///./src/assets/images/arr-r@2x.png","webpack:///./src/views/notice/index.vue","webpack:///./src/views/notice/index.vue?90a2"],"names":["module","exports","class","src","alt","title","$t","type","list","item","index","$router","push","id","local","noData","allowMultiple","components","Header","setup","store","data","proxy","address","state","accounts","web3","provider","notice","getList","ToastIndex","loading","duration","then","res","noticeDatas","length","clear","catch","val","refData","render","__scopeId"],"mappings":"kHAAA,W,qBCAAA,EAAOC,QAAU,kb,+KCEVC,MAAM,a,GACJA,MAAM,Q,GAGAA,MAAM,uB,EACX,yBAA6D,OAAxDC,IAAA,IAAmCC,IAAI,GAAGF,MAAM,S,kBAGtCA,MAAM,U,oLAT7B,yBAA+C,GAAtCG,MAAO,EAAAC,GAAE,MAAQC,KAAK,Q,kBAC/B,yBAUM,MAVN,EAUM,CATJ,yBAQM,MARN,EAQM,E,2BAPJ,yBAKW,2CALuB,EAAAC,MAAI,SAApBC,EAAMC,G,gCACtB,yBAGM,O,IAJsCA,EACvCR,MAAM,OAAQ,QAAK,mBAAE,EAAAS,QAAQC,KAAI,+BAAsCH,EAAKI,Q,CAC/E,yBAA4D,MAA5D,EAA4D,6BAAzBJ,EAAK,EAAAK,OAAOT,OAAK,GACpD,G,wBAGO,EAAAU,Q,yBAAX,yBAAwD,MAAxD,EAAwD,6BAApB,EAAAT,GAAE,e,uIAU5C,OAAMU,gBAGS,OACbC,WAAY,CACVC,SAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBADP,EAEW,kCACZC,GAHC,EAECC,MACK,sBAAS,CACpBC,QAAS,uBAAS,kBAAMH,EAAMI,MAAMC,SAAS,MAC7CC,KAAM,uBAAS,kBAAMN,EAAMI,MAAMG,YACjCnB,KAAMoB,EACNb,QAAQ,EACRD,MAAO,kBAAa,QACpBe,QAAS,WACP,IAAMC,EAAa,OAAMC,QAAQ,CAC/BC,SAAU,IAEZ,OAAItB,MAAM,CACRa,QAASF,EAAKE,UACbU,MAAK,SAAAC,GACNb,EAAKb,KAAO0B,EAAIb,KAAKc,YACrBd,EAAKN,QAAUM,EAAKb,KAAK4B,OACzBN,EAAWO,WAEVC,OAAM,WACLR,EAAWO,eAIfhB,EAAKE,QAGT,oBAAM,kBAAMF,EAAKE,WAAS,SAACgB,OAK3B,IAAMC,EAAU,oBAAOnB,GACvB,yBACKmB,K,UCzDT,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"static/js/chunk-e575f4f8.ac9f9edf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=3b1fdeda&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAMAAADD5o0oAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAH3RSTlMA8Pn16pY4oJyRgnxwVFBJPjEtJuTXz66mjIpoWEVDKITWLQAAAGJJREFUGNNt0DcSgCAUBFBAUDEr5rT3v6U0LhRQ8WZ+Fkbfgk9CtcQFqI5qvHqqBrKHqrwG6vTKKQvIIOM1UiWgJ6oAFmID1v+/A7MLQdol0m1U+GBLjsah39Q6Ml7U6HCCDyB4B1QcOg1qAAAAAElFTkSuQmCC\"","<template>\r\n  <Header :title=\"$t('公告')\" type=\"back\"></Header>\r\n  <div class=\"container\">\r\n    <div class=\"list\">\r\n      <template v-for=\"(item, index) in list\" :key=\"index\">\r\n        <div class=\"item\" @click=\"$router.push({ name: 'NoticeDetail', query: { id: item.id } })\">\r\n          <div class=\"title text-ellipsis\">{{item[local].title}}</div>\r\n          <img src=\"@/assets/images/arr-r@2x.png\" alt=\"\" class=\"arrow\">\r\n        </div>\r\n      </template>\r\n      <div v-if=\"noData\" class=\"noData\">{{$t('暫無更多數據')}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch, getCurrentInstance } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Header from '@/components/Header'\r\nimport API from \"@/api\"\r\nimport { Toast } from \"vant\";\r\nToast.allowMultiple();\r\nimport { getLang } from \"@/utils/i18n\";\r\nimport notice from \"@/utils/notice.json\"\r\nexport default {\r\n  components: {\r\n    Header\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { proxy } = getCurrentInstance()\r\n    const data = reactive({\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      list: notice,\r\n      noData: false,\r\n      local: getLang() || \"zh-TW\",\r\n      getList: () => {\r\n        const ToastIndex = Toast.loading({\r\n          duration: 0\r\n        })\r\n        API.index({\r\n          address: data.address\r\n        }).then(res => {\r\n          data.list = res.data.noticeDatas\r\n          data.noData = !data.list.length\r\n          ToastIndex.clear()\r\n        })\r\n          .catch(() => {\r\n            ToastIndex.clear()\r\n          })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      // data.getList()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        // data.getList()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  padding-bottom: 0;\r\n}\r\n.list {\r\n  padding: 12px 16px 16px;\r\n  .item {\r\n    border-radius: 8px;\r\n    background: #1a202e;\r\n    padding: 14px 12px;\r\n    padding-right: 47px;\r\n    margin-bottom: 12px;\r\n    position: relative;\r\n    .title {\r\n      color: #fff;\r\n      font-weight: bold;\r\n      font-size: 15px;\r\n    }\r\n    .cont {\r\n      height: 18px;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      margin: 8px 0;\r\n      line-height: 18px;\r\n      color: #999 !important;\r\n      font-size: 13px;\r\n      /deep/ * {\r\n        line-height: 18px;\r\n        color: #999 !important;\r\n        font-size: 13px;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n      }\r\n      img {\r\n        display: none;\r\n      }\r\n    }\r\n    .time {\r\n      color: #999999;\r\n      font-size: 13px;\r\n    }\r\n    .arrow {\r\n      width: 8px;\r\n      position: absolute;\r\n      right: 11px;\r\n      top: 0;\r\n      bottom: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=3b1fdeda&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3b1fdeda&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3b1fdeda\"\n\nexport default script"],"sourceRoot":""}