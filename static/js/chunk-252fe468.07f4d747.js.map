{"version":3,"sources":["webpack:///./src/views/idoa/record/index.vue?116c","webpack:///./src/views/idoa/record/index.vue","webpack:///./src/views/idoa/record/index.vue?d1de"],"names":["class","title","t","type","dataOrders","isExist","amount","leaderAddress","rooterAddress","Number","groupFinishTime","idoTotalGroup","idoTotalAmount","size","loading-text","$t","loading","btnInherit","disabled","inheritHandle","receiveProfit","earned","release","$dateformat","time","allowMultiple","components","Header","setup","proxy","store","router","data","address","state","accounts","web3","provider","handleContract","usdtContract","backContract","user","idoTypeActions","initContract","eth","Contract","config","usdtAddress","backAddress","handleAbi_a","HANDLE_a","initData","getRootAddress","remainingGet","idoTypesFetch","userOrderFetch","ToastUserOrder","duration","methods","userOrder","call","from","ordersFetch","clear","$errorformat","orderid","ToastOrdersr","decimals","decimalsUSDT","decimalsBACK","orders","idoPrice","groupIdoType","_groupIdoType","k","length","uint","_profit","dividedBy","_idoUsdtNumber","toFixed","price","income","multipliedBy","minus","groupFinishTimeFetch","rootAddress","res","redeem","estimateGas","send","message","onClose","replace","name","ToastIdoTypes","idoTypes","_idoTypes","idoUsdtNumber","profit","ToastIdoTotalAmount","val","refData","render","__scopeId"],"mappings":"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","file":"static/js/chunk-252fe468.07f4d747.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0708bc10&lang=less&scoped=true\"","<template>\r\n  <div class=\"container record\">\r\n    <Header :title=\"t('index.購買記錄')\" type=\"back\"></Header>\r\n    <div class=\"lists\">\r\n      <div class=\"li\" v-if=\"dataOrders.isExist\">\r\n        <div class=\"title flex-middle\">\r\n          <div class=\"left flex-item\">{{t('index.IDO訂單/支付{key}',{key:dataOrders.amount+'U'})}}</div>\r\n          <div class=\"right\">\r\n            <van-button v-if=\"dataOrders.leaderAddress !== rooterAddress && !Number(groupFinishTime) && idoTotalGroup === idoTotalAmount\" size=\"mini\" type=\"primary\" class=\"btn\" :loading-text=\"$t('index.退回')\" :loading=\"btnInherit.loading\" :disabled=\"btnInherit.loading\" @click=\"inheritHandle()\">{{$t('index.退回')}}</van-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.已領取')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.receiveProfit}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.待領取')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.earned}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.待釋放')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.release}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.購買時間')}}</div>\r\n          <div class=\"value flex-item\">{{$dateformat(dataOrders.time)}}</div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!dataOrders.isExist\" class=\"noData\">{{$t('暫無更多數據')}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from '@/components/Header'\r\nimport { reactive, toRefs, computed, watch, getCurrentInstance } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from 'vue-router'\r\n\r\nimport { config } from \"@/utils/config\";\r\n// import { MaxUint256 } from \"@ethersproject/constants\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport tokenAbi from \"@/utils/abi.json\";\r\nimport handleAbi_a from \"@/utils/handleAbi_a.json\";\r\nimport { Toast } from \"vant\";\r\nToast.allowMultiple();\r\n// import API from \"@/api\"\r\nexport default {\r\n  components: {\r\n    Header\r\n  },\r\n  setup () {\r\n    const { proxy } = getCurrentInstance();\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      handleContract: null,\r\n      usdtContract: null,\r\n      backContract: null,\r\n      dataOrders: { release: '0', earned: '', amount: '', isExist: '', leaderAddress: '', receiveProfit: '0.0000', time: '', user: '' },\r\n      btnInherit: {\r\n        loading: false\r\n      },\r\n      rooterAddress: '',\r\n      idoTypeActions: [],\r\n      groupFinishTime: '0',\r\n      idoTotalGroup: '1',\r\n      idoTotalAmount: '0',\r\n      initContract: () => {\r\n        data.usdtContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.usdtAddress\r\n        );\r\n        data.backContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.backAddress\r\n        );\r\n        data.handleContract = new data.web3.eth.Contract(\r\n          handleAbi_a,\r\n          config.HANDLE_a\r\n        );\r\n        data.initData()\r\n      },\r\n      initData: async () => {\r\n        await data.getRootAddress()\r\n        await data.remainingGet()\r\n        await data.idoTypesFetch(0)\r\n        await data.idoTypesFetch(1)\r\n        data.userOrderFetch()\r\n      },\r\n      userOrderFetch: async () => {\r\n        const ToastUserOrder = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let userOrder = await data.handleContract.methods.userOrder(data.address).call({\r\n            from: data.address\r\n          })\r\n          console.log('userOrder:', userOrder)\r\n          if (!Number(userOrder)) {\r\n            console.log('无订单')\r\n          } else {\r\n            await data.ordersFetch(userOrder)\r\n          }\r\n          ToastUserOrder.clear()\r\n        } catch (error) {\r\n          ToastUserOrder.clear()\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      ordersFetch: async (orderid) => {\r\n        const ToastOrdersr = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let decimalsUSDT = await data.usdtContract.methods.decimals().call()\r\n          let decimalsBACK = await data.backContract.methods.decimals().call()\r\n          let orders = await data.handleContract.methods.orders(orderid).call({\r\n            from: data.address\r\n          })\r\n          console.log('orders:', orders)\r\n          let { amount, isExist, leaderAddress, receiveProfit, time, user } = orders\r\n          //  待领取earned  已领取receiveProfit \r\n          //   待释放= 個人所有收益-待领取-已领取\r\n          let earned = await data.handleContract.methods.earned(data.address).call()\r\n          // let idoPrice = await data.handleContract.methods.idoPrice().call({\r\n          //   from: data.address\r\n          // })\r\n          let idoPrice = ''\r\n          let _groupIdoType = await data.handleContract.methods.groupIdoType(leaderAddress).call({\r\n            from: data.address\r\n          })\r\n          let idoTypeActions = data.idoTypeActions\r\n          // 获取价格\r\n          for (let k = 0; k < idoTypeActions.length; k++) {\r\n            if (idoTypeActions[k].uint === Number(_groupIdoType)) {\r\n              idoPrice = new BigNumber(idoTypeActions[k]._profit).dividedBy(idoTypeActions[k]._idoUsdtNumber).toFixed()\r\n            }\r\n          }\r\n          let price = idoPrice\r\n          console.log('price:', price)\r\n          let income = new BigNumber(amount).multipliedBy(price).toFixed()\r\n          if (data.rooterAddress !== data.address) {\r\n            income = new BigNumber(income).multipliedBy(0.92).toFixed()\r\n            console.log('不是顶点时 收益×92%', income)\r\n          }\r\n          let release = new BigNumber(income).minus(earned).minus(receiveProfit).toFixed()\r\n          earned = new BigNumber(earned).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          release = new BigNumber(release).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          receiveProfit = new BigNumber(receiveProfit).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          amount = new BigNumber(amount).dividedBy(10 ** decimalsUSDT).toFixed(4)\r\n\r\n          if (data)\r\n\r\n            console.log('earned:', earned, 'release:', release)\r\n          data.dataOrders = { release, earned, amount, isExist, leaderAddress, receiveProfit, time, user }\r\n          data.groupFinishTimeFetch()\r\n          ToastOrdersr.clear()\r\n        } catch (error) {\r\n          ToastOrdersr.clear()\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      getRootAddress: async () => {\r\n        try {\r\n          let res = await data.handleContract.methods.rootAddress().call({\r\n            from: data.address\r\n          });\r\n          console.log(res, 'rootAddress')\r\n          if (!res) {\r\n            return Toast(t('index.頂點未設置'))\r\n          }\r\n          if (res === data.address) {\r\n            console.log('顶点地址不展示继承')\r\n          }\r\n          data.rooterAddress = res\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      inheritHandle: async () => {\r\n        console.log('inheritHandle')\r\n        data.btnInherit.loading = true\r\n        try {\r\n          let gas = await data.handleContract.methods.redeem().estimateGas({\r\n            from: data.address\r\n          })\r\n          console.log(gas, 'gas')\r\n          await data.handleContract.methods.redeem().send({\r\n            from: data.address\r\n          })\r\n          data.btnInherit.loading = false\r\n          Toast({\r\n            message: t(\"index.Success\"),\r\n            onClose: () => {\r\n              router.replace({ name: 'Idob' })\r\n            }\r\n          })\r\n        } catch (error) {\r\n          data.btnInherit.loading = false\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      idoTypesFetch: async (uint) => {\r\n        const ToastIdoTypes = Toast.loading({ duration: 0 })\r\n        try {\r\n          let _idoTypes = await data.handleContract.methods.idoTypes(uint).call({\r\n            from: data.address\r\n          })\r\n          let decimalsBACK = await data.backContract.methods.decimals().call()\r\n          let decimalsUSDT = await data.usdtContract.methods.decimals().call()\r\n          _idoTypes._idoUsdtNumber = new BigNumber(_idoTypes.idoUsdtNumber).dividedBy(10 ** decimalsUSDT).toFixed()\r\n          _idoTypes._profit = new BigNumber(_idoTypes.profit).dividedBy(10 ** decimalsBACK).toFixed()\r\n          _idoTypes.uint = uint\r\n          if (uint === 0) {\r\n            _idoTypes.name = t('index.普通節點')\r\n          }\r\n          if (uint === 1) {\r\n            _idoTypes.name = t('index.超級節點')\r\n          }\r\n          data.idoTypeActions[uint] = _idoTypes\r\n          console.log('idoTypes:', data.idoTypeActions)\r\n          ToastIdoTypes.clear()\r\n        } catch (error) {\r\n          ToastIdoTypes.clear()\r\n          proxy.$errorformat(error)\r\n          console.log(497)\r\n        }\r\n      },\r\n      groupFinishTimeFetch: async () => {\r\n        console.log(data.dataOrders.leaderAddress, 'groupFinishTimeFetch')\r\n        if (!data.dataOrders.leaderAddress) {\r\n          return\r\n        }\r\n        try {\r\n          let groupFinishTime = await data.handleContract.methods.groupFinishTime(data.dataOrders.leaderAddress).call()\r\n          console.log('groupFinishTime:', groupFinishTime)\r\n          if (Number(groupFinishTime)) {\r\n            console.log('團隊私募已完成')\r\n          }\r\n          data.groupFinishTime = groupFinishTime\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n          console.log(500)\r\n        }\r\n      },\r\n      remainingGet: async () => {\r\n        const ToastIdoTotalAmount = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let idoTotalAmount = await data.handleContract.methods.idoTotalAmount().call({\r\n            from: data.address\r\n          })\r\n          let idoTotalGroup = await data.handleContract.methods.idoTotalGroup().call({\r\n            from: data.address\r\n          })\r\n          data.idoTotalAmount = idoTotalAmount\r\n          data.idoTotalGroup = idoTotalGroup\r\n          ToastIdoTotalAmount.clear()\r\n        } catch (error) {\r\n          ToastIdoTotalAmount.clear()\r\n          proxy.$errorformat(error)\r\n          console.log(441)\r\n        }\r\n      },\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.record {\r\n  padding: 52px 16px 16px;\r\n  .li {\r\n    padding: 17px 12px;\r\n    background: #1a202e;\r\n    border-radius: 8px;\r\n    &:not(:last-child) {\r\n      margin-bottom: 12px;\r\n    }\r\n    .title {\r\n      padding-bottom: 14px;\r\n    }\r\n    .p {\r\n      display: flex;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n      &:not(:last-child) {\r\n        margin-bottom: 5px;\r\n      }\r\n      .key {\r\n        font-size: 13px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n      }\r\n      .value {\r\n        text-align: right;\r\n        font-size: 13px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=0708bc10&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0708bc10&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0708bc10\"\n\nexport default script"],"sourceRoot":""}