{"version":3,"sources":["webpack:///./src/views/idoa/record/index.vue?7bac","webpack:///./src/views/idoa/record/index.vue","webpack:///./src/views/idoa/record/index.vue?d1de"],"names":["class","title","t","type","dataOrders","isExist","amount","leaderAddress","rooterAddress","Number","groupFinishTime","idoTotalGroup","idoTotalAmount","size","loading-text","$t","loading","btnInherit","disabled","inheritHandle","receiveProfit","earned","release","$dateformat","time","allowMultiple","components","Header","setup","proxy","store","data","address","state","accounts","web3","provider","handleContract","usdtContract","backContract","user","idoTypeActions","handleContract0","initContract","eth","Contract","config","usdtAddress","backAddress","handleAbi_a","HANDLE_a","handleAbi_0","HANDLE_0","initData","getRootAddress","remainingGet","idoTypesFetch","userOrderFetch","ToastUserOrder","duration","methods","userOrder","call","from","ordersFetch","clear","$errorformat","orderid","ToastOrdersr","decimals","decimalsUSDT","decimalsBACK","orders","idoPrice","groupIdoType","_groupIdoType","k","length","uint","_profit","dividedBy","_idoUsdtNumber","toFixed","price","income","multipliedBy","minus","groupFinishTimeFetch","rootAddress","res","redeem","estimateGas","send","ToastIdoTypes","idoTypes","_idoTypes","idoUsdtNumber","profit","name","ToastIdoTotalAmount","val","refData","render","__scopeId"],"mappings":"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","file":"static/js/chunk-4e478e30.befdda1f.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=ac1ba6da&lang=less&scoped=true\"","<template>\r\n  <div class=\"container record\">\r\n    <Header :title=\"t('index.購買記錄')\" type=\"back\"></Header>\r\n    <div class=\"lists\">\r\n      <div class=\"li\" v-if=\"dataOrders.isExist\">\r\n        <div class=\"title flex-middle\">\r\n          <div class=\"left flex-item\">{{t('index.IDO訂單/支付{key}',{key:dataOrders.amount+'U'})}}</div>\r\n          <div class=\"right\">\r\n            <van-button v-if=\"dataOrders.leaderAddress !== rooterAddress && !Number(groupFinishTime) && idoTotalGroup === idoTotalAmount\" size=\"mini\" type=\"primary\" class=\"btn\" :loading-text=\"$t('index.退回')\" :loading=\"btnInherit.loading\" :disabled=\"btnInherit.loading\" @click=\"inheritHandle()\">{{$t('index.退回')}}</van-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.已領取')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.receiveProfit}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.待領取')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.earned}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.待釋放')}}</div>\r\n          <div class=\"value flex-item\">{{dataOrders.release}} Back</div>\r\n        </div>\r\n        <div class=\"p\">\r\n          <div class=\"key\">{{t('index.購買時間')}}</div>\r\n          <div class=\"value flex-item\">{{$dateformat(dataOrders.time)}}</div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!dataOrders.isExist\" class=\"noData\">{{$t('暫無更多數據')}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from '@/components/Header'\r\nimport { reactive, toRefs, computed, watch, getCurrentInstance } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\n\r\nimport { config } from \"@/utils/config\";\r\n// import { MaxUint256 } from \"@ethersproject/constants\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport tokenAbi from \"@/utils/abi.json\";\r\nimport handleAbi_a from \"@/utils/handleAbi_a.json\";\r\nimport handleAbi_0 from \"@/utils/handleAbi_0.json\";\r\nimport { Toast } from \"vant\";\r\nToast.allowMultiple();\r\n// import API from \"@/api\"\r\nexport default {\r\n  components: {\r\n    Header\r\n  },\r\n  setup () {\r\n    const { proxy } = getCurrentInstance();\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      handleContract: null,\r\n      usdtContract: null,\r\n      backContract: null,\r\n      dataOrders: { release: '0', earned: '', amount: '', isExist: '', leaderAddress: '', receiveProfit: '0.0000', time: '', user: '' },\r\n      btnInherit: {\r\n        loading: false\r\n      },\r\n      rooterAddress: '',\r\n      idoTypeActions: [],\r\n      groupFinishTime: '0',\r\n      idoTotalGroup: '1',\r\n      idoTotalAmount: '0',\r\n      handleContract0: null,\r\n      initContract: () => {\r\n        data.usdtContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.usdtAddress\r\n        );\r\n        data.backContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.backAddress\r\n        );\r\n        data.handleContract = new data.web3.eth.Contract(\r\n          handleAbi_a,\r\n          config.HANDLE_a\r\n        );\r\n        data.handleContract0 = new data.web3.eth.Contract(\r\n          handleAbi_0,\r\n          config.HANDLE_0\r\n        );\r\n        data.initData()\r\n      },\r\n      initData: async () => {\r\n        await data.getRootAddress()\r\n        await data.remainingGet()\r\n        await data.idoTypesFetch(0)\r\n        await data.idoTypesFetch(1)\r\n        data.userOrderFetch()\r\n      },\r\n      userOrderFetch: async () => {\r\n        const ToastUserOrder = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let userOrder = await data.handleContract.methods.userOrder(data.address).call({\r\n            from: data.address\r\n          })\r\n          console.log('userOrder:', userOrder)\r\n          if (!Number(userOrder)) {\r\n            console.log('无订单')\r\n          } else {\r\n            await data.ordersFetch(userOrder)\r\n          }\r\n          ToastUserOrder.clear()\r\n        } catch (error) {\r\n          ToastUserOrder.clear()\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      ordersFetch: async (orderid) => {\r\n        const ToastOrdersr = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let decimalsUSDT = await data.usdtContract.methods.decimals().call()\r\n          let decimalsBACK = await data.backContract.methods.decimals().call()\r\n          let orders = await data.handleContract.methods.orders(orderid).call({\r\n            from: data.address\r\n          })\r\n          console.log('orders:', orders)\r\n          let { amount, isExist, leaderAddress, receiveProfit, time, user } = orders\r\n          //  待领取earned  已领取receiveProfit \r\n          //   待释放= 個人所有收益-待领取-已领取\r\n          let earned = await data.handleContract.methods.earned(data.address).call()\r\n          // let idoPrice = await data.handleContract.methods.idoPrice().call({\r\n          //   from: data.address\r\n          // })\r\n          let idoPrice = ''\r\n          let _groupIdoType = await data.handleContract.methods.groupIdoType(leaderAddress).call({\r\n            from: data.address\r\n          })\r\n          let idoTypeActions = data.idoTypeActions\r\n          // 获取价格\r\n          for (let k = 0; k < idoTypeActions.length; k++) {\r\n            if (idoTypeActions[k].uint === Number(_groupIdoType)) {\r\n              idoPrice = new BigNumber(idoTypeActions[k]._profit).dividedBy(idoTypeActions[k]._idoUsdtNumber).toFixed()\r\n            }\r\n          }\r\n          let price = idoPrice\r\n          console.log('price:', price)\r\n          let income = new BigNumber(amount).multipliedBy(price).toFixed()\r\n          if (data.rooterAddress !== data.address) {\r\n            income = new BigNumber(income).multipliedBy(0.92).toFixed()\r\n            console.log('不是顶点时 收益×92%', income)\r\n          }\r\n          let release = new BigNumber(income).minus(earned).minus(receiveProfit).toFixed()\r\n          earned = new BigNumber(earned).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          release = new BigNumber(release).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          receiveProfit = new BigNumber(receiveProfit).dividedBy(10 ** decimalsBACK).toFixed(4)\r\n          amount = new BigNumber(amount).dividedBy(10 ** decimalsUSDT).toFixed(4)\r\n\r\n          console.log('earned:', earned, 'release:', release)\r\n          data.dataOrders = { release, earned, amount, isExist, leaderAddress, receiveProfit, time, user }\r\n          data.groupFinishTimeFetch()\r\n          ToastOrdersr.clear()\r\n        } catch (error) {\r\n          ToastOrdersr.clear()\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      getRootAddress: async () => {\r\n        try {\r\n          let res = await data.handleContract0.methods.rootAddress().call({\r\n            from: data.address\r\n          });\r\n          console.log(res, 'rootAddress')\r\n          if (!res) {\r\n            return Toast(t('index.頂點未設置'))\r\n          }\r\n          if (res === data.address) {\r\n            console.log('顶点地址不展示继承')\r\n          }\r\n          data.rooterAddress = res\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      inheritHandle: async () => {\r\n        console.log('inheritHandle')\r\n        data.btnInherit.loading = true\r\n        try {\r\n          let gas = await data.handleContract.methods.redeem().estimateGas({\r\n            from: data.address\r\n          })\r\n          console.log(gas, 'gas')\r\n          await data.handleContract.methods.redeem().send({\r\n            from: data.address\r\n          })\r\n          data.btnInherit.loading = false\r\n        } catch (error) {\r\n          data.btnInherit.loading = false\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      idoTypesFetch: async (uint) => {\r\n        const ToastIdoTypes = Toast.loading({ duration: 0 })\r\n        try {\r\n          let _idoTypes = await data.handleContract.methods.idoTypes(uint).call({\r\n            from: data.address\r\n          })\r\n          let decimalsBACK = await data.backContract.methods.decimals().call()\r\n          let decimalsUSDT = await data.usdtContract.methods.decimals().call()\r\n          _idoTypes._idoUsdtNumber = new BigNumber(_idoTypes.idoUsdtNumber).dividedBy(10 ** decimalsUSDT).toFixed()\r\n          _idoTypes._profit = new BigNumber(_idoTypes.profit).dividedBy(10 ** decimalsBACK).toFixed()\r\n          _idoTypes.uint = uint\r\n          if (uint === 0) {\r\n            _idoTypes.name = t('index.普通節點')\r\n          }\r\n          if (uint === 1) {\r\n            _idoTypes.name = t('index.超級節點')\r\n          }\r\n          data.idoTypeActions[uint] = _idoTypes\r\n          console.log('idoTypes:', data.idoTypeActions)\r\n          ToastIdoTypes.clear()\r\n        } catch (error) {\r\n          ToastIdoTypes.clear()\r\n          proxy.$errorformat(error)\r\n          console.log(497)\r\n        }\r\n      },\r\n      groupFinishTimeFetch: async () => {\r\n        console.log(data.dataOrders.leaderAddress, 'groupFinishTimeFetch')\r\n        if (!data.dataOrders.leaderAddress) {\r\n          return\r\n        }\r\n        try {\r\n          let groupFinishTime = await data.handleContract.methods.groupFinishTime(data.dataOrders.leaderAddress).call()\r\n          console.log('groupFinishTime:', groupFinishTime)\r\n          if (Number(groupFinishTime)) {\r\n            console.log('團隊私募已完成')\r\n          }\r\n          data.groupFinishTime = groupFinishTime\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n          console.log(500)\r\n        }\r\n      },\r\n      remainingGet: async () => {\r\n        const ToastIdoTotalAmount = Toast.loading({\r\n          duration: 0\r\n        })\r\n        try {\r\n          let idoTotalAmount = await data.handleContract.methods.idoTotalAmount().call({\r\n            from: data.address\r\n          })\r\n          let idoTotalGroup = await data.handleContract.methods.idoTotalGroup().call({\r\n            from: data.address\r\n          })\r\n          data.idoTotalAmount = idoTotalAmount\r\n          data.idoTotalGroup = idoTotalGroup\r\n          ToastIdoTotalAmount.clear()\r\n        } catch (error) {\r\n          ToastIdoTotalAmount.clear()\r\n          proxy.$errorformat(error)\r\n          console.log(441)\r\n        }\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.record {\r\n  padding: 52px 16px 16px;\r\n  .li {\r\n    padding: 17px 12px;\r\n    background: #1a202e;\r\n    border-radius: 8px;\r\n    &:not(:last-child) {\r\n      margin-bottom: 12px;\r\n    }\r\n    .title {\r\n      padding-bottom: 14px;\r\n    }\r\n    .p {\r\n      display: flex;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n      &:not(:last-child) {\r\n        margin-bottom: 5px;\r\n      }\r\n      .key {\r\n        font-size: 13px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n      }\r\n      .value {\r\n        text-align: right;\r\n        font-size: 13px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=ac1ba6da&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ac1ba6da&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ac1ba6da\"\n\nexport default script"],"sourceRoot":""}